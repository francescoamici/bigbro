import{z as y,G as m,w as d,u as p,K as f,F as a}from"./star-XL_efDnF.js";import{u as h}from"./use-motion-value-D5TSZ5wL.js";function A(...t){const e=!Array.isArray(t[0]),n=e?0:-1,o=t[0+n],s=t[1+n],u=t[2+n],r=t[3+n],c=y(s,u,r);return e?c(o):c}function l(t,e){const n=h(e()),o=()=>n.set(e());return o(),m(()=>{const s=()=>p.preRender(o,!1,!0),u=t.map(r=>r.on("change",s));return()=>{u.forEach(r=>r()),d(o)}}),n}function V(t){f.current=[],t();const e=l(f.current,t);return f.current=void 0,e}function k(t,e,n,o){if(typeof t=="function")return V(t);if(n!==void 0&&!Array.isArray(n)&&typeof e!="function")return C(t,e,n,o);const r=typeof e=="function"?e:A(e,n,o);return Array.isArray(t)?i(t,r):i([t],([c])=>r(c))}function i(t,e){const n=a(()=>[]);return l(t,()=>{n.length=0;const o=t.length;for(let s=0;s<o;s++)n[s]=t[s].get();return e(n)})}function C(t,e,n,o){const s=a(()=>Object.keys(n)),u=a(()=>({}));for(const r of s)u[r]=k(t,e,n[r],o);return u}export{k as u};
